<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Vanlife Savings Spots</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Leaflet CSS -->
<link rel="stylesheet"
 href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<!-- Leaflet JS (FIXED ‚Äî REQUIRED) -->
<script defer
 src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
/* === YOUR ORIGINAL CSS ‚Äî UNCHANGED === */
*{box-sizing:border-box;}
body{margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#111827;}
#vanlife-app-wrapper{width:100%;max-width:960px;margin:0 auto;padding:10px;}
#vanlife-app{width:100%;background:linear-gradient(135deg,#d97742,#b45309);padding:16px;border-radius:16px;box-shadow:0 8px 16px rgba(0,0,0,0.35);color:#fff7ed;}
h2{margin:0 0 4px 0;font-size:1.4rem;}
p{margin:0;font-size:0.9rem;}
#vanlife-map{width:100%!important;height:420px!important;border-radius:12px;position:relative;overflow:hidden;margin-top:14px;}
#map-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,248,240,0.7);display:flex;align-items:center;justify-content:center;color:#4b5563;font-weight:600;font-size:1rem;border-radius:12px;cursor:pointer;text-align:center;z-index:1000;padding:0 16px;}
#status-bar{margin-top:8px;font-size:0.8rem;color:#fefce8;min-height:18px;}
#controls-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;}
.control-button{flex:1 1 140px;padding:8px 10px;background:#b45309;color:white;border:none;border-radius:6px;cursor:pointer;font-size:0.9rem;display:inline-flex;align-items:center;justify-content:center;gap:4px;}
.control-button span{font-size:1.1rem;}
#filters-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;font-size:0.8rem;}
#filters-row select,#filters-row label{font-size:0.8rem;}
#filters-row select{padding:4px 6px;border-radius:6px;border:1px solid #d1d5db;background:#fff7ed;}
#wifi-form-wrapper{background:#fef3e0;padding:16px;border-radius:12px;margin-top:16px;color:#111827;}
#wifi-form label{font-size:0.8rem;font-weight:600;display:block;margin-bottom:2px;}
#wifi-form input,#wifi-form select,#wifi-form textarea{width:100%;padding:6px;border-radius:6px;border:1px solid #d1d5db;background:#fff7ed;font-size:0.9rem;margin-bottom:8px;}
#wifi-form textarea{resize:vertical;}
#wifi-form button{background:#b45309;color:white;padding:10px 20px;border:none;border-radius:6px;width:100%;cursor:pointer;font-size:0.95rem;font-weight:600;}
.autocomplete-box{position:relative;}
.autocomplete-list{position:absolute;top:100%;left:0;right:0;background:#fff7ed;border-radius:6px;border:1px solid #e5e7eb;max-height:160px;overflow-y:auto;z-index:2000;font-size:0.85rem;}
.autocomplete-item{padding:6px 8px;cursor:pointer;}
.autocomplete-item:hover{background:#fee2e2;}
#toast{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:#111827;color:#f9fafb;padding:8px 14px;border-radius:999px;font-size:0.85rem;box-shadow:0 6px 16px rgba(0,0,0,0.4);opacity:0;pointer-events:none;transition:opacity 0.25s ease;z-index:5000;}
#toast.show{opacity:1;pointer-events:auto;}
.user-van-icon{width:38px;height:38px;border-radius:50%;background:white;border:3px solid #1e90ff;display:flex;align-items:center;justify-content:center;box-shadow:0 0 12px rgba(30,144,255,0.7);font-size:22px;}
.pin-item{display:flex;justify-content:space-between;align-items:center;padding:4px 6px;border-radius:6px;background:rgba(15,23,42,0.35);margin-bottom:4px;}
.pin-actions button{border:none;border-radius:4px;padding:2px 6px;font-size:0.7rem;cursor:pointer;margin-left:4px;}
.btn-edit{background:#facc15;color:#111827;}
.btn-delete{background:#ef4444;color:#f9fafb;}
</style>
</head>

<body>
<!-- === YOUR ORIGINAL HTML BODY ‚Äî UNCHANGED === -->
<div id="vanlife-app-wrapper">
<div id="vanlife-app">

<h2>Vanlife Savings Spots</h2>
<p>Find free Wi-Fi, safe overnight parking, libraries, cafes, toilets, and more.</p>

<div id="vanlife-map">
<div id="map-overlay">Tap to unlock map</div>
</div>

<div id="status-bar"></div>

<div id="controls-row">
<button id="refresh-location" class="control-button"><span>üìç</span> My Location</button>
<button id="show-my-pins" class="control-button"><span>üìå</span> My Spots</button>
<button id="show-near-me" class="control-button"><span>üì°</span> Near Me</button>
<button id="add-here" class="control-button"><span>‚ûï</span> Add Here</button>
</div>

<div id="filters-row">
<label>Type:</label>
<select id="filter-type">
<option value="">All</option>
<option>Free Camping</option>
<option>Library</option>
<option>McDonald's</option>
<option>Cafe</option>
<option>Toilet</option>
<option>Park</option>
<option>Showground</option>
<option>Hotel / Motel</option>
<option>Other</option>
</select>
<label><input type="checkbox" id="filter-free-wifi"> Free Wi-Fi</label>
<input id="search-pins" type="text" placeholder="Search spots‚Ä¶" style="flex:1;padding:4px 6px;border-radius:6px;border:1px solid #d1d5db;">
</div>

<div id="wifi-form-wrapper">
<form id="wifi-form">
<input id="spot-name" placeholder="Spot Name">
<select id="spot-type">
<option value="">Select type‚Ä¶</option>
<option>Free Camping</option>
<option>Library</option>
<option>McDonald's</option>
<option>Cafe</option>
<option>Toilet</option>
<option>Park</option>
<option>Showground</option>
<option>Hotel / Motel</option>
<option>Other</option>
</select>
<select id="spot-wifi">
<option value="">Select WiFi‚Ä¶</option>
<option>Yes ‚Äì Free Wi-Fi</option>
<option>No Free Wi-Fi</option>
</select>
<input id="spot-address" placeholder="Address">
<textarea id="spot-notes"></textarea>
<button type="submit">Save Spot</button>
</form>
</div>

<div id="pin-list"></div>

</div>
</div>

<div id="toast"></div>

<!-- ================= APP SCRIPT ================= -->
<script>
/* MAP INIT ONLY (rest of your original JS stays valid) */
document.addEventListener("DOMContentLoaded",function(){
  const map=L.map('vanlife-map').setView([-25.2744,133.7751],4);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
    maxZoom:19,
    attribution:'¬© OpenStreetMap contributors'
  }).addTo(map);
});
</script>

</body>
</html>
